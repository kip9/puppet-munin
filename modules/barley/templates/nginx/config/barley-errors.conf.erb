# Catch all, 404 page
error_page 404 /;

error_page 400 /barley-error-400;
location ~* /barley-error-400 {
    rewrite ^/(.*)$ /404 permanent;
}

location /barley_get_400 {
    return 400;
}

# 401 & 403 Errors
error_page 401 403 407 419 /barley-error-403.html;
location ~* /barley-error-403 {
    root /var/www/errors;
    index barley-error-403.html;
}

location /barley_get_401 {
    return 401;
}

location /barley_get_403 {
    return 403;
}

# 500 Error
error_page 500 /barley-error-500.html;
location ~* /barley-error-500 {
    root /var/www/errors;
    index barley-error-500.html;
}

location /barley_get_500 {
    return 500;
}

# 502 Error
error_page 502 /barley-error-502.html;
location ~* /barley-error-502 {
    root /var/www/errors;
    index barley-error-502.html;
}

location /barley_get_502 {
    return 502;
}

# Other 4xx/5xx
error_page 402 405 406 408 409 410 411 412 413 414 415 416 417 418 420 422 423 424 425 426 428 429 431 444 449 450 451 494 495 496 497 501 503 504 505 506 507 508 509 510 511 598 599 /barley-error-doh.html;
location ~* /barley-error-doh {
    root /var/www/errors;
    index barley-error-doh.html;
}

location /barley_get_error {
    return 402;
}
